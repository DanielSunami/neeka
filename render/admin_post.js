(function(){function admin_post(it
/**/) {
var out='<!DOCTYPE html><html><head><meta charset="utf-8"><title>'+(it.site.name)+' | Administration</title><meta http-equiv="x-dns-prefetch-control" content="on"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="robots" content="noindex,nofollow"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel="stylesheet" href="/assets/style/normalize.min.css" type="text/css"><link rel="stylesheet" href="/assets/style/basscss.min.css" type="text/css" /><link rel="stylesheet" href="/assets/style/taggle.css" type="text/css" /><link rel="stylesheet" href="/assets/style/prism.css" type="text/css" /><link rel="stylesheet" href="/assets/style/loading.css" type="text/css" /><link rel="stylesheet" href="/assets/style/loading-btn.css" type="text/css" /><link rel="stylesheet" href="/assets/style/alertify.min.css" type="text/css" /><link rel="stylesheet" href="/assets/style/alertify.default.min.css" type="text/css" /><link rel="stylesheet" href="/assets/style/font.css" type="text/css" /><link rel="stylesheet" href="/assets/style/default-dark.css" type="text/css" /><link rel="stylesheet" href="/assets/style/card.css" type="text/css" /><link rel="stylesheet" href="/assets/style/form.css" type="text/css" /><link rel="stylesheet" href="/assets/style/buttons.css" type="text/css" /><link rel="stylesheet" href="/assets/style/footer.css" type="text/css" /><link rel="stylesheet" href="/assets/style/header.css" type="text/css" /><link rel="stylesheet" href="/assets/style/blog.css" type="text/css" /><link rel="stylesheet" href="/assets/style/admin.css" type="text/css" /></head><body><div class="page-wrap"><header class="mx-auto"><div class="navbar" role="navigation"><div class="navbar-brand-group"><a class="navbar-brand" href="//'+(it.site.url)+'">'+(it.site.name)+'</a><span style="display: inline-block;margin-left: 5px;"><a href="//'+(it.site.url)+'/admin">administration</a></span></div><hr class="mobile-hr"/><div class="navbar-menu"><ul class="list-reset"><li><a href="/admin/tags">Tags</a></li><li><a href="/admin/post">Content Management</a></li><li><a href="/admin/user">Users</a></li><li><a href="/admin/settings">Settings</a></li><li><a href="/admin/databaseConf">Database Credentials</a></li></ul></div></div></header><div class="container"><div class="max-width-3 mx-auto"><form method="POST" name="post" action="/admin/post/'+(it.post._id)+'"> <input type="hidden" name="id" value="'+(it.post._id)+'"/><div class="tab-frame"><input type="radio" class="tab-input" checked name="tab" id="tab1"><label for="tab1" class="tab-label">Post</label><input type="radio" class="tab-input" name="tab" id="tab2"><label for="tab2" class="tab-label">Metadata</label><div class="tab"><div class="form-group"><label>Title<input type="text" name="title" value="'+(it.post.title)+'" /></label></div><div class="form-group"><label>Slug<input type="text" name="slug" value="'+(it.post.slug)+'"/></label></div><div class="form-group clearfix"><label class="col col-6">Published<input type="radio" name="published" value="true" ';if(it.post.published){out+='checked ';}out+='/></label><label class="col col-6">Draft<input type="radio" name="published" value="false" ';if(!it.post.published){out+='checked ';}out+='/></label></div></div><div class="tab"><div class="form-group"><label>Keywords<input type="text" name="keywords" value="'+(it.post.keywords)+'"/></label></div><div class="form-group"><label>Description<input type="text" name="description" value="'+(it.post.description)+'"/></label><small>Important. Usually used in shared link thumbnails like facebook.</small></div></div></div><div><div class="form-group"><label>Article<textarea id="article" rows="6">'+(it.post.preview);if(it.post.preview){out+='--preview--';}out+=''+(it.post.body)+'</textarea></label><small>Use <i>--preview--</i> to break text. Pure html editor.</small></div><input type="hidden" name="preview"/><input type="hidden" name="body"/><div class="form-group"><label>Tags</label><div id="tags" class="taggle_textarea"></div><small style="word-wrap: normal;">separated by comma (,)</small></div><div class="clearfix"><button type="button" id="btn-save-quit" class="green col-right col-3 ml1 ld ld-ext-right">Save & Quit<div class="ld ld-ring ld-cycle" style="font-size: 1.6em;"></div></button><button type="button" id="btn-save" class="green col-right col-3 mx1 ld ld-ext-right">Save<div class="ld ld-ring ld-cycle" style="font-size: 1.6em;"></div></button><a href="/admin" class="btn salmon col-right col-3 mx1">Cancel</a></div></div></form></div></div></div><footer class="fit"><div class="poweredby">Powered by <a href="//danielsunami.github.io/neeka">Neeka</a></div></footer><script type="text/javascript" src="/assets/lib/prism.js"></script><script type="text/javascript" src="/assets/lib/taggle.min.js"></script><script type="text/javascript" src="/assets/lib/alertify.min.js"></script><script type="text/javascript" src="/assets/lib/serialize.min.js"></script><script type="text/javascript">new Taggle("tags",{hiddenInputName: "tag",placeholder:""});document.post.title.onkeyup = function(e){document.post.slug.value = this.value.normalize("NFD").replace(/[\\u0300-\\u036f]/g, "").trim().toLowerCase().replace(/ /g,"-");};[].map.call(document.querySelectorAll("form input"), function(input){input.onkeypress = function(e) {if ( e.which == 13 ) e.preventDefault();}});document.querySelector("#btn-save").onclick = function(e) {var _self = this,arr = document.querySelector("#article").value.split(/--preview--/);_self.classList.add("running");if(arr.length > 1){document.post.preview.value = arr[0];document.post.body.value = arr[1];} else document.post.body.value = document.querySelector("#article").value;var req = new XMLHttpRequest();req.onload = function(){var res = JSON.parse(this.responseText);_self.classList.remove("running");_self.removeAttribute("disabled");if(res.ok){if(!document.querySelector("input[name=id]").value) {document.querySelector("input[name=id]").value = res.id;document.post.action="/admin/post/"+res.id;}alertify.success("Saved!");} else alertify.error("Something went wrong =(");};req.open(_self.form.method, _self.form.action, true);req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");req.send(_self.form.serialize());};document.querySelector("#btn-save-quit").onclick = function(e) {var _self = this,arr = document.querySelector("#article").value.split(/--preview--/);_self.classList.add("running");if(arr.length > 1){document.post.preview.value = arr[0];document.post.body.value = arr[1];} else document.post.body.value = document.querySelector("#article").value;var req = new XMLHttpRequest();req.onload = function(){var res = JSON.parse(this.responseText);_self.classList.remove("running");_self.removeAttribute("disabled");if(res.ok) window.location.pathname = "/admin";else alertify.error(\'Something went wrong =(\');};req.open(_self.form.method, _self.form.action, true);req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");req.send(_self.form.serialize());};</script></body></html>';return out;
}var itself=admin_post, _encodeHTML=(function (doNotSkipEncoded) {
		var encodeHTMLRules = { "&": "&#38;", "<": "&#60;", ">": "&#62;", '"': "&#34;", "'": "&#39;", "/": "&#47;" },
			matchHTML = doNotSkipEncoded ? /[&<>"'\/]/g : /&(?!#?\w+;)|<|>|"|'|\//g;
		return function(code) {
			return code ? code.toString().replace(matchHTML, function(m) {return encodeHTMLRules[m] || m;}) : "";
		};
	}());if(typeof module!=='undefined' && module.exports) module.exports=itself;else if(typeof define==='function')define(function(){return itself;});else {_page.render=_page.render||{};_page.render['admin_post']=itself;}}());